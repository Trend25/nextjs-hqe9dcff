"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{617:function(e,r,t){t.r(r),t.d(r,{ClientAuthProvider:function(){return D},useAuth:function(){return f}});var n=t(3827),a=t(4090),o=t(7176),l=t(7907);console.log("\uD83D\uDD0D DEBUG: ClientAuthProvider file loaded at:",new Date().toISOString());let s="https://hfrzxhbwjatdnpftrdgr.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhmcnp4aGJ3amF0ZG5wZnRyZGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NTY3NzksImV4cCI6MjA2ODUzMjc3OX0.Fg7TK4FckPi5XAWNM_FLii9WyzSDAUCSdyoX-WLLXhA";i||(console.error("\uD83D\uDEA8 ERROR: NEXT_PUBLIC_SUPABASE_ANON_KEY not found in environment variables!"),console.error("\uD83D\uDD27 Please set NEXT_PUBLIC_SUPABASE_ANON_KEY in Vercel environment variables")),console.log("\uD83D\uDD0D DEBUG: Environment Variables Config:"),console.log("\uD83D\uDD0D DEBUG: - URL:",s),console.log("\uD83D\uDD0D DEBUG: - Key length:",i.length),console.log("\uD83D\uDD0D DEBUG: - Key starts with:",i.substring(0,20)),console.log("\uD83D\uDD0D DEBUG: - Using env vars:",!!i);let u=(0,o.eI)(s,i);console.log("\uD83D\uDD0D DEBUG: Supabase client created");let c=(0,a.createContext)(void 0),d=()=>{try{let e=localStorage.getItem("sb-hfrzxhbwjatdnpftrdgr-auth-token");return e?JSON.parse(e):null}catch(e){return null}};function D(e){let{children:r}=e,t=(0,l.useRouter)(),o=(0,l.usePathname)(),s=d();console.log("\uD83D\uDD0D DEBUG: Initial auth from storage:",!!s);let[i,D]=(0,a.useState)((null==s?void 0:s.user)||null),[f,h]=(0,a.useState)(null),[g,m]=(0,a.useState)(!s),x=async e=>{var r,t,n;console.log("\uD83D\uDD0D DEBUG: fetchUserProfile for",e);try{let{data:r,error:t}=await u.from("profiles").select("*").eq("id",e).maybeSingle();if(t)throw t;if(r)return r}catch(e){console.error("\uD83D\uDD0D DEBUG: Error fetching profile:",e)}return{id:e,email:(null==s?void 0:null===(r=s.user)||void 0===r?void 0:r.email)||"",full_name:(null==s?void 0:null===(n=s.user)||void 0===n?void 0:null===(t=n.user_metadata)||void 0===t?void 0:t.full_name)||"",avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}},v=async(e,r)=>{if(i)try{await u.from("user_activity_log").insert({user_id:i.id,activity_type:e,activity_data:r,ip_address:null,user_agent:navigator.userAgent})}catch(e){console.error("\uD83D\uDD0D DEBUG: Error logging activity:",e)}};(0,a.useEffect)(()=>{console.log("\uD83D\uDD0D DEBUG: AuthProvider mounted");let e=!0,r=setTimeout(()=>{e&&g&&(console.log("\uD83D\uDEA8 DEBUG: Loading timeout, forcing loading=false"),m(!1))},15e3);(async()=>{console.log("\uD83D\uDD0D DEBUG: getSession");try{let{data:{session:r},error:t}=await u.auth.getSession();if(t)throw t;if(null==r?void 0:r.user){D(r.user);let t=await x(r.user.id);if(!e)return;h(t)}else if(null==s?void 0:s.user){D(s.user);let r=await x(s.user.id);if(!e)return;h(r)}else localStorage.removeItem("sb-hfrzxhbwjatdnpftrdgr-auth-token"),D(null)}catch(e){console.error("\uD83D\uDD0D DEBUG: init error:",e)}finally{e&&m(!1),clearTimeout(r)}})();let{data:{subscription:n}}=u.auth.onAuthStateChange(async(n,a)=>{if(console.log("\uD83D\uDD0D DEBUG: onAuthStateChange",n),null==a?void 0:a.user){D(a.user);let r=await x(a.user.id);e&&h(r),"SIGNED_IN"===n&&"/dashboard"!==o&&t.push("/dashboard"),"SIGNED_IN"===n&&await v("login")}else D(null),h(null);e&&m(!1),clearTimeout(r)});return()=>{e=!1,n.unsubscribe(),clearTimeout(r)}},[t,o]);let p=async(e,r,t)=>{console.log("\uD83D\uDD0D DEBUG: signUp called for email:",e),m(!0);try{let{data:n,error:a}=await u.auth.signUp({email:e,password:r,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback"),data:{full_name:t||""}}});if(a)throw a;return console.log("\uD83D\uDD0D DEBUG: signUp successful:",n),{data:n,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Sign up error:",e),{data:null,error:e.message}}finally{m(!1)}},b=async(e,r)=>{console.log("\uD83D\uDD0D DEBUG: signIn called for email:",e),m(!0);try{let{data:t,error:n}=await u.auth.signInWithPassword({email:e,password:r});if(n)throw n;return console.log("\uD83D\uDD0D DEBUG: signIn successful:",t),{data:t,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Sign in error:",e),{data:null,error:e.message}}finally{m(!1)}},y=async()=>{console.log("\uD83D\uDD0D DEBUG: signOut called"),m(!0),i&&await v("logout");try{let{error:e}=await u.auth.signOut();if(e)throw e;console.log("\uD83D\uDD0D DEBUG: signOut successful")}catch(e){console.error("\uD83D\uDD0D DEBUG: signOut error:",e)}finally{D(null),h(null),m(!1)}},w=async e=>{if(console.log("\uD83D\uDD0D DEBUG: updateProfile called:",e),!i||!f)throw Error("No user logged in");m(!0);try{let{data:r,error:t}=await u.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",i.id).select().single();if(t)throw t;return h(r),await v("profile_update",e),console.log("\uD83D\uDD0D DEBUG: updateProfile successful:",r),{data:r,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Update profile error:",e),{data:null,error:e.message}}finally{m(!1)}},j=async()=>{if(console.log("\uD83D\uDD0D DEBUG: refreshProfile called"),i)try{let e=await x(i.id);h(e),console.log("\uD83D\uDD0D DEBUG: Profile refreshed")}catch(e){console.error("\uD83D\uDD0D DEBUG: Error refreshing profile:",e)}},N=!!(null==i?void 0:i.email_confirmed_at);return(0,n.jsx)(c.Provider,{value:{user:i,userProfile:f,loading:g,isEmailVerified:N,signUp:p,signIn:b,signOut:y,updateProfile:w,refreshProfile:j,logActivity:v},children:r})}function f(){let e=(0,a.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}r.default=D},5406:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(3827),a=t(4090),o=t(8792),l=t(7907),s=t(5754),i=t(617);function u(e){var r,t;let{children:u}=e,[c,d]=(0,a.useState)(!1),{user:D,userProfile:f,signOut:h}=(0,i.useAuth)(),g=(0,l.useRouter)(),m=(0,l.usePathname)(),x=async()=>{await h(),g.push("/")},v=[{name:"Overview",href:"/dashboard",icon:(0,n.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6a2 2 0 01-2 2H10a2 2 0 01-2-2V5z"})]})},{name:"Submit Data",href:"/dashboard/submit",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})},{name:"Analyses",href:"/dashboard/analyses",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Profile",href:"/dashboard/profile",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}];return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[c&&(0,n.jsx)("div",{className:"fixed inset-0 z-40 lg:hidden",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25",onClick:()=>d(!1)})}),(0,n.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform ".concat(c?"translate-x-0":"-translate-x-full"," lg:translate-x-0 transition-transform duration-200 ease-in-out lg:static lg:inset-0"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[(0,n.jsxs)(o.default,{href:"/",className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-white font-bold text-sm",children:"S"})}),(0,n.jsx)("span",{className:"text-xl font-bold text-gray-900",children:"StartupStage"})]}),(0,n.jsx)("button",{onClick:()=>d(!1),className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-500",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,n.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:(null==f?void 0:null===(r=f.full_name)||void 0===r?void 0:r.charAt(0))||(null==D?void 0:null===(t=D.email)||void 0===t?void 0:t.charAt(0))||"U"})}),(0,n.jsxs)("div",{className:"ml-3",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null==f?void 0:f.full_name)||"User"}),(0,n.jsx)("p",{className:"text-xs text-gray-500",children:null==D?void 0:D.email})]})]})}),(0,n.jsx)("nav",{className:"mt-6 px-3",children:(0,n.jsx)("div",{className:"space-y-1",children:v.map(e=>{let r=m===e.href;return(0,n.jsxs)(o.default,{href:e.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(r?"bg-blue-50 text-blue-700 border-r-2 border-blue-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,n.jsx)("span",{className:"mr-3 ".concat(r?"text-blue-500":"text-gray-400 group-hover:text-gray-500"),children:e.icon}),e.name]},e.name)})})}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-gray-200",children:(0,n.jsxs)(s.z,{onClick:x,variant:"ghost",className:"w-full justify-start text-gray-600 hover:text-gray-900",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]}),(0,n.jsxs)("div",{className:"lg:pl-64",children:[(0,n.jsx)("div",{className:"sticky top-0 z-10 bg-white shadow-sm border-b border-gray-200",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[(0,n.jsx)("button",{onClick:()=>d(!0),className:"lg:hidden p-1 rounded-md text-gray-400 hover:text-gray-500",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsx)("div",{className:"hidden sm:block",children:(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Welcome back, ",(0,n.jsx)("span",{className:"font-medium text-gray-900",children:(null==f?void 0:f.full_name)||"User"})]})})})]})}),(0,n.jsx)("main",{className:"flex-1",children:(0,n.jsx)("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:u})})]})]})}},5754:function(e,r,t){t.d(r,{z:function(){return u}});var n=t(3827),a=t(4090),o=t(6371),l=t(9769),s=t(1657);let i=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,r)=>{let{className:t,variant:a,size:l,asChild:u=!1,...c}=e,d=u?o.g7:"button";return(0,n.jsx)(d,{className:(0,s.cn)(i({variant:a,size:l,className:t})),ref:r,...c})});u.displayName="Button"},7815:function(e,r,t){t.d(r,{Ol:function(){return s},SZ:function(){return u},Zb:function(){return l},aY:function(){return c},ll:function(){return i}});var n=t(3827),a=t(4090),o=t(1657);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let s=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t),...a})});s.displayName="CardHeader";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("h3",{ref:r,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});i.displayName="CardTitle";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("p",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",t),...a})});u.displayName="CardDescription";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},1657:function(e,r,t){t.d(r,{_v:function(){return i},cn:function(){return o},ei:function(){return u},p6:function(){return s},xG:function(){return l}});var n=t(3167),a=t(1367);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,n.W)(r))}function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return null==e?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:r,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function s(e){return e?("string"==typeof e?new Date(e):e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}function i(e){return({PRE_SEED:"bg-purple-100 text-purple-800 border-purple-200",SEED:"bg-blue-100 text-blue-800 border-blue-200",SERIES_A:"bg-green-100 text-green-800 border-green-200",GROWTH:"bg-orange-100 text-orange-800 border-orange-200"})[e]||"bg-gray-100 text-gray-800 border-gray-200"}function u(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}}}]);