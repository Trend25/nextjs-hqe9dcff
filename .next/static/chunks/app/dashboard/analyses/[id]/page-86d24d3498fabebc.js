(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[653],{4453:function(e,s,t){Promise.resolve().then(t.bind(t,2585))},2585:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var l=t(3827),a=t(4090),r=t(8792),i=t(7907),n=t(5754),c=t(7815),d=t(617),x=t(8714),o=t(5406),m=t(1657);function h(){var e;let[s,t]=(0,a.useState)(null),[h,u]=(0,a.useState)(null),[j,g]=(0,a.useState)(!0),[f,y]=(0,a.useState)(""),{user:v}=(0,d.useAuth)(),p=(0,i.useParams)();(0,i.useRouter)();let N=p.id,b=(0,x.createClientComponentClient)();(0,a.useEffect)(()=>{v&&N&&_()},[v,N]);let _=async()=>{try{g(!0);let{data:e,error:s}=await b.from("stage_analysis_results").select("*").eq("id",N).eq("user_id",null==v?void 0:v.id).single();if(s){if("PGRST116"===s.code){y("Analysis not found");return}throw s}if(t(e),e.submission_id){let{data:s,error:t}=await b.from("startup_submissions").select("*").eq("id",e.submission_id).single();t&&"PGRST116"!==t.code?console.error("Error fetching submission:",t):s&&u(s)}}catch(e){console.error("Error fetching analysis detail:",e),y("Failed to load analysis details")}finally{g(!1)}};if(!v)return null;if(j)return(0,l.jsx)(o.Z,{children:(0,l.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,l.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,l.jsx)("div",{className:"h-64 bg-gray-200 rounded"}),(0,l.jsx)("div",{className:"h-48 bg-gray-200 rounded"})]})});if(f||!s)return(0,l.jsx)(o.Z,{children:(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Analysis Not Found"}),(0,l.jsx)("p",{className:"text-gray-600 mb-6",children:f||"The analysis you're looking for doesn't exist or you don't have permission to view it."}),(0,l.jsx)(r.default,{href:"/dashboard/analyses",children:(0,l.jsx)(n.z,{children:"← Back to Analyses"})})]})});let S={PRE_SEED:"Pre-Seed",SEED:"Seed",SERIES_A:"Series A",GROWTH:"Growth"};return(0,l.jsx)(o.Z,{children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(r.default,{href:"/dashboard/analyses",className:"text-blue-600 hover:text-blue-800 text-sm mb-2 inline-flex items-center",children:"← Back to Analyses"}),(0,l.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(null==h?void 0:h.company_name)||"Startup"," Stage Analysis"]}),(0,l.jsxs)("p",{className:"text-gray-600",children:["Analyzed on ",(0,m.p6)(s.created_at)]})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)(n.z,{variant:"outline",disabled:!0,children:"Export Report"}),(0,l.jsx)(n.z,{variant:"outline",disabled:!0,children:"Share Analysis"})]})]}),(0,l.jsx)(c.Zb,{className:"border-2",children:(0,l.jsx)(c.Ol,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("span",{className:"text-4xl",children:(e=>{switch(e){case"PRE_SEED":return"\uD83C\uDF31";case"SEED":return"\uD83C\uDF3F";case"SERIES_A":return"\uD83C\uDF33";case"GROWTH":return"\uD83D\uDE80";default:return"\uD83D\uDCCA"}})(s.detected_stage)}),(0,l.jsxs)("div",{children:[(0,l.jsxs)(c.ll,{className:"text-2xl",children:[S[s.detected_stage]||s.detected_stage," Stage"]}),(0,l.jsxs)(c.SZ,{className:"text-lg",children:[(0,l.jsxs)("span",{className:"font-medium ".concat((0,m.ei)(s.confidence_score)),children:[s.confidence_score,"% confidence"]})," • ","Stage Score: ",s.stage_score,"/100"]})]})]}),(0,l.jsx)("div",{className:"px-4 py-2 rounded-full ".concat((0,m._v)(s.detected_stage)),children:(0,l.jsx)("span",{className:"font-medium",children:S[s.detected_stage]})})]})})}),h&&(0,l.jsxs)(c.Zb,{children:[(0,l.jsx)(c.Ol,{children:(0,l.jsx)(c.ll,{children:"Company Snapshot"})}),(0,l.jsx)(c.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Industry"}),(0,l.jsx)("div",{className:"text-lg font-medium",children:h.industry||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Founded"}),(0,l.jsx)("div",{className:"text-lg font-medium",children:h.founded_year||"N/A"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Team Size"}),(0,l.jsxs)("div",{className:"text-lg font-medium",children:[h.team_size||0," people"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Founders"}),(0,l.jsx)("div",{className:"text-lg font-medium",children:h.founders_count||0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Monthly Revenue"}),(0,l.jsx)("div",{className:"text-lg font-medium",children:(0,m.xG)(h.monthly_revenue)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Total Funding"}),(0,l.jsx)("div",{className:"text-lg font-medium",children:(0,m.xG)(h.total_funding)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Active Customers"}),(0,l.jsx)("div",{className:"text-lg font-medium",children:(null===(e=h.active_customers)||void 0===e?void 0:e.toLocaleString())||"0"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"Growth Rate"}),(0,l.jsxs)("div",{className:"text-lg font-medium",children:[h.monthly_growth_rate||0,"% MoM"]})]})]})})]}),(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Stage Probability Analysis"}),(0,l.jsx)(c.SZ,{children:"How likely your startup fits each stage based on the provided metrics"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"space-y-4",children:[{stage:"PRE_SEED",score:s.pre_seed_score,label:"Pre-Seed",icon:"\uD83C\uDF31",color:"bg-purple-500"},{stage:"SEED",score:s.seed_score,label:"Seed",icon:"\uD83C\uDF3F",color:"bg-blue-500"},{stage:"SERIES_A",score:s.series_a_score,label:"Series A",icon:"\uD83C\uDF33",color:"bg-green-500"},{stage:"GROWTH",score:s.growth_score,label:"Growth",icon:"\uD83D\uDE80",color:"bg-orange-500"}].filter(e=>void 0!==e.score).map(e=>(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("span",{className:"text-2xl",children:e.icon}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,l.jsx)("span",{className:"font-medium",children:e.label}),(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:[e.score,"%"]})]}),(0,l.jsx)("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden",children:(0,l.jsx)("div",{className:"h-full ".concat(e.color," transition-all duration-500"),style:{width:"".concat(e.score,"%")}})})]})]},e.stage))})})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[s.reasons&&s.reasons.length>0&&(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Key Analysis Points"}),(0,l.jsx)(c.SZ,{children:"Why we determined this stage for your startup"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"space-y-3",children:s.reasons.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-medium mt-0.5",children:s+1}),(0,l.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:e})]},s))})})]}),s.recommendations&&s.recommendations.length>0&&(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Recommendations"}),(0,l.jsx)(c.SZ,{children:"Actionable insights to improve your startup"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"space-y-3",children:s.recommendations.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-sm font-medium mt-0.5",children:"\uD83D\uDCA1"}),(0,l.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:e})]},s))})})]})]}),s.next_milestones&&s.next_milestones.length>0&&(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Next Milestones"}),(0,l.jsx)(c.SZ,{children:"Key goals to focus on for your stage progression"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:s.next_milestones.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-gray-50 rounded-lg",children:[(0,l.jsx)("span",{className:"w-8 h-8 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center text-sm font-medium",children:"\uD83C\uDFAF"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Milestone ",s+1]}),(0,l.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e})]})]},s))})})]}),s.benchmark_comparison&&s.benchmark_comparison.length>0&&(0,l.jsxs)(c.Zb,{children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Industry Benchmarks"}),(0,l.jsx)(c.SZ,{children:"How your metrics compare to similar startups in your stage"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"space-y-4",children:s.benchmark_comparison.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-gray-900",children:e.metric}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:[e.stage," average: ",e.benchmark]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"font-medium",children:["Your value: ",e.your_value]}),(0,l.jsxs)("p",{className:"text-sm ".concat("above"===e.status||"excellent"===e.status?"text-green-600":"text-red-600"),children:[e.percentile,"th percentile (",e.status,")"]})]})]},s))})})]}),(0,l.jsxs)("div",{className:"flex justify-center space-x-4 pt-6",children:[(0,l.jsx)(r.default,{href:"/dashboard/submit",children:(0,l.jsx)(n.z,{size:"lg",children:"Submit Updated Data"})}),(0,l.jsx)(r.default,{href:"/dashboard/analyses",children:(0,l.jsx)(n.z,{variant:"outline",size:"lg",children:"View All Analyses"})})]})]})})}}},function(e){e.O(0,[612,869,792,714,246,971,69,744],function(){return e(e.s=4453)}),_N_E=e.O()}]);