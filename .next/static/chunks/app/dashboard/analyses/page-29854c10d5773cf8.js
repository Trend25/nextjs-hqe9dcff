(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{2398:function(e,s,t){Promise.resolve().then(t.bind(t,8089))},8089:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var a=t(3827),r=t(4090),l=t(8792),n=t(7907),i=t(5754),d=t(7815),c=t(7929),x=t(617),o=t(8714),m=t(5406),h=t(1657);function u(e){var s;let{analysis:t,submission:r,showActions:n=!0}=e;return(0,a.jsxs)(d.Zb,{className:"hover:shadow-lg transition-shadow duration-200",children:[(0,a.jsx)(d.Ol,{children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:(e=>{switch(e){case"PRE_SEED":return"\uD83C\uDF31";case"SEED":return"\uD83C\uDF3F";case"SERIES_A":return"\uD83C\uDF33";case"GROWTH":return"\uD83D\uDE80";default:return"\uD83D\uDCCA"}})(t.detected_stage)}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.ll,{className:"text-lg",children:(null==r?void 0:r.company_name)||"Startup Analysis"}),(0,a.jsxs)(d.SZ,{children:["Analyzed on ",(0,h.p6)(t.created_at)]})]})]})}),n&&(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsx)(l.default,{href:"/dashboard/analyses/".concat(t.id),children:(0,a.jsx)(i.z,{variant:"outline",size:"sm",children:"View Details"})})})]})}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat((0,h._v)(t.detected_stage)),children:{PRE_SEED:"Pre-Seed",SEED:"Seed",SERIES_A:"Series A",GROWTH:"Growth"}[t.detected_stage]||t.detected_stage}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:(s=t.confidence_score)>=80?"\uD83C\uDFAF":s>=60?"✅":"⚠️"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat((0,h.ei)(t.confidence_score)),children:[t.confidence_score,"% confidence"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[t.stage_score,"/100"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Stage Score"})]})]}),r&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Industry"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:r.industry||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Team Size"}),(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[r.team_size||0," people"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Monthly Revenue"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(0,h.xG)(r.monthly_revenue)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Total Funding"}),(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(0,h.xG)(r.total_funding)})]})]}),t.reasons&&t.reasons.length>0&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Key Analysis Points"}),(0,a.jsxs)("div",{className:"space-y-1",children:[t.reasons.slice(0,2).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-blue-500 mt-1",children:"•"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e})]},s)),t.reasons.length>2&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["+",t.reasons.length-2," more insights"]})]})]}),t.next_milestones&&t.next_milestones.length>0&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Next Milestones"}),(0,a.jsxs)("div",{className:"space-y-1",children:[t.next_milestones.slice(0,2).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("span",{className:"text-green-500 mt-1",children:"→"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e})]},s)),t.next_milestones.length>2&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["+",t.next_milestones.length-2," more milestones"]})]})]}),(t.pre_seed_score||t.seed_score||t.series_a_score||t.growth_score)&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-3",children:"Stage Probability Breakdown"}),(0,a.jsx)("div",{className:"space-y-2",children:[{stage:"PRE_SEED",score:t.pre_seed_score,label:"Pre-Seed"},{stage:"SEED",score:t.seed_score,label:"Seed"},{stage:"SERIES_A",score:t.series_a_score,label:"Series A"},{stage:"GROWTH",score:t.growth_score,label:"Growth"}].filter(e=>void 0!==e.score&&e.score>0).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-xs text-gray-600",children:e.label}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:"".concat(e.score,"%")}})}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 w-8",children:[e.score,"%"]})]})]},e.stage))})]})]})})]})}function g(){return(0,a.jsx)(m.Z,{children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-48 bg-gray-200 rounded"},e))})]})})})}function j(){var e,s;let[t,h]=(0,r.useState)([]),[g,j]=(0,r.useState)(!0),[v,y]=(0,r.useState)(""),{user:b}=(0,x.useAuth)(),N=(0,n.useSearchParams)().get("new_submission"),f=(0,o.createClientComponentClient)();(0,r.useEffect)(()=>{b&&p()},[b]);let p=async()=>{try{j(!0);let{data:e,error:s}=await f.from("stage_analysis_results").select("\n          *,\n          startup_submissions:submission_id (\n            id,\n            company_name,\n            industry,\n            monthly_revenue,\n            total_funding,\n            team_size\n          )\n        ").eq("user_id",null==b?void 0:b.id).order("created_at",{ascending:!1});if(s)throw s;let t=(e||[]).map(e=>({...e,submission:e.startup_submissions}));h(t)}catch(e){console.error("Error fetching analyses:",e),y("Failed to load analyses")}finally{j(!1)}};return b?g?(0,a.jsx)(m.Z,{children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-48 bg-gray-200 rounded"},e))})]})})}):(0,a.jsx)(m.Z,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Stage Analyses"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Review your startup's stage progression and AI-powered insights"})]}),(0,a.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,a.jsx)(l.default,{href:"/dashboard/submit",children:(0,a.jsx)(i.z,{children:"Submit New Data"})})})]}),N&&(0,a.jsx)(c.bZ,{className:"border-green-200 bg-green-50",children:(0,a.jsxs)(c.X,{className:"text-green-700",children:["\uD83C\uDF89 Your startup data has been submitted successfully!",0===t.length&&" Your AI analysis will appear here once processing is complete."]})}),v&&(0,a.jsx)(c.bZ,{variant:"destructive",children:(0,a.jsx)(c.X,{children:v})}),0===t.length&&!g&&(0,a.jsxs)(d.Zb,{className:"border-2 border-dashed border-gray-200",children:[(0,a.jsxs)(d.Ol,{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,a.jsx)(d.ll,{children:"No Stage Analyses Yet"}),(0,a.jsx)(d.SZ,{children:"Submit your startup data to get AI-powered stage analysis and personalized insights."})]}),(0,a.jsxs)(d.aY,{className:"text-center",children:[(0,a.jsx)(l.default,{href:"/dashboard/submit",children:(0,a.jsx)(i.z,{size:"lg",children:"Submit Your First Data →"})}),(0,a.jsx)("p",{className:"mt-4 text-sm text-gray-500",children:"Our AI will analyze your metrics and determine if you're Pre-Seed, Seed, Series A, or Growth stage."})]})]}),t.length>0&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"grid gap-6",children:t.map(e=>(0,a.jsx)(u,{analysis:e,submission:e.submission},e.id))}),t.length>=10&&(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(i.z,{variant:"outline",children:"Load More Analyses"})})]}),t.length>0&&(0,a.jsxs)(d.Zb,{children:[(0,a.jsx)(d.Ol,{children:(0,a.jsx)(d.ll,{children:"Analysis Summary"})}),(0,a.jsx)(d.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:t.length}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Total Analyses"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=t[0])||void 0===e?void 0:e.detected_stage.replace("_","-"))||"—"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Current Stage"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[(null===(s=t[0])||void 0===s?void 0:s.confidence_score)||0,"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Latest Confidence"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(t.reduce((e,s)=>e+(s.confidence_score||0),0)/t.length)||0,"%"]}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Avg Confidence"})]})]})})]})]})}):null}function v(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(g,{}),children:(0,a.jsx)(j,{})})}},7929:function(e,s,t){"use strict";t.d(s,{X:function(){return c},bZ:function(){return d}});var a=t(3827),r=t(4090),l=t(9769),n=t(1657);let i=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 bg-green-50 dark:border-green-500 dark:text-green-400 dark:bg-green-950/30 [&>svg]:text-green-600 dark:[&>svg]:text-green-400",warning:"border-yellow-500/50 text-yellow-700 bg-yellow-50 dark:border-yellow-500 dark:text-yellow-400 dark:bg-yellow-950/30 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400",info:"border-blue-500/50 text-blue-700 bg-blue-50 dark:border-blue-500 dark:text-blue-400 dark:bg-blue-950/30 [&>svg]:text-blue-600 dark:[&>svg]:text-blue-400"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,...l}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(i({variant:r}),t),...l})});d.displayName="Alert",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})}).displayName="AlertTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",t),...r})});c.displayName="AlertDescription"}},function(e){e.O(0,[612,869,792,714,246,971,69,744],function(){return e(e.s=2398)}),_N_E=e.O()}]);