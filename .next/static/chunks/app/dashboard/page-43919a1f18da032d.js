(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6539:function(e,s,t){Promise.resolve().then(t.bind(t,7941))},7941:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var r=t(3827),a=t(4090),l=t(617),n=t(5406),i=t(8792),d=t(5754),c=t(7815),o=t(7929),x=t(8714),h=t(1657);function u(){let{user:e,userProfile:s}=(0,l.useAuth)(),[t,n]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[j,f]=(0,a.useState)(!0),[g,b]=(0,a.useState)(""),p=(0,x.createClientComponentClient)();(0,a.useEffect)(()=>{e&&v()},[e]);let v=async()=>{try{f(!0);let{data:s,error:t}=await p.from("startup_submissions").select("*").eq("user_id",null==e?void 0:e.id).order("created_at",{ascending:!1}).limit(5);if(t)throw t;let{data:r,error:a}=await p.from("stage_analysis_results").select("*").eq("user_id",null==e?void 0:e.id).order("created_at",{ascending:!1}).limit(5);if(a)throw a;n(s||[]),m(r||[])}catch(e){console.error("Error fetching dashboard data:",e),b("Failed to load dashboard data")}finally{f(!1)}};if(j)return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(e=>(0,r.jsx)("div",{className:"h-32 bg-gray-200 rounded"},e))})]})});let N=t.length>0,y=u.length>0,w=y?u[0]:null;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Track your startup's growth journey and stage progression"})]}),(0,r.jsx)("div",{className:"mt-4 sm:mt-0",children:(0,r.jsx)(i.default,{href:"/dashboard/submit",children:(0,r.jsx)(d.z,{children:"Submit New Data"})})})]}),g&&(0,r.jsx)(o.bZ,{variant:"destructive",children:(0,r.jsx)(o.X,{children:g})}),!N&&(0,r.jsxs)(c.Zb,{className:"border-2 border-dashed border-blue-200 bg-blue-50",children:[(0,r.jsxs)(c.Ol,{className:"text-center",children:[(0,r.jsx)(c.ll,{className:"text-xl text-blue-900",children:"Welcome to StartupStage! \uD83D\uDE80"}),(0,r.jsx)(c.SZ,{className:"text-blue-700",children:"Ready to discover your startup's true stage? Let's get started with your first submission."})]}),(0,r.jsx)(c.aY,{className:"text-center",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-sm text-blue-600",children:"Our AI will analyze your startup metrics and determine whether you're in:"}),(0,r.jsxs)("div",{className:"flex flex-wrap justify-center gap-2",children:[(0,r.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:"Pre-Seed"}),(0,r.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Seed"}),(0,r.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Series A"}),(0,r.jsx)("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-xs font-medium",children:"Growth"})]}),(0,r.jsx)(i.default,{href:"/dashboard/submit",children:(0,r.jsx)(d.z,{size:"lg",className:"mt-4",children:"Start Your First Analysis →"})})]})})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Submissions"}),(0,r.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})]}),(0,r.jsxs)(c.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:t.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:0===t.length?"No submissions yet":"Data submissions completed"})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Analyses Generated"}),(0,r.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})]}),(0,r.jsxs)(c.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:u.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:0===u.length?"No analyses yet":"AI-powered stage analyses"})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Current Stage"}),(0,r.jsx)("svg",{className:"h-4 w-4 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]}),(0,r.jsx)(c.aY,{children:w?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium ".concat((0,h._v)(w.detected_stage)),children:w.detected_stage.replace("_","-")}),(0,r.jsxs)("p",{className:"text-xs mt-1 ".concat((0,h.ei)(w.confidence_score)),children:[w.confidence_score,"% confidence"]})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:"—"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Submit data to get analysis"})]})})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.ll,{children:"Recent Submissions"}),(0,r.jsx)(i.default,{href:"/dashboard/submit",children:(0,r.jsx)(d.z,{variant:"outline",size:"sm",children:"Add New"})})]})}),(0,r.jsx)(c.aY,{children:N?(0,r.jsxs)("div",{className:"space-y-3",children:[t.slice(0,3).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-sm",children:e.company_name}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:(0,h.p6)(e.created_at)})]}),(0,r.jsx)("div",{className:"text-right",children:(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.is_draft?"Draft":"Submitted"})})]},e.id)),t.length>3&&(0,r.jsx)("div",{className:"text-center pt-2",children:(0,r.jsx)(i.default,{href:"/dashboard/analyses",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all submissions →"})})]}):(0,r.jsxs)("div",{className:"text-center py-6",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"No submissions yet"}),(0,r.jsx)(i.default,{href:"/dashboard/submit",children:(0,r.jsx)(d.z,{variant:"outline",size:"sm",className:"mt-2",children:"Submit Your First Data"})})]})})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.ll,{children:"Recent Analyses"}),(0,r.jsx)(i.default,{href:"/dashboard/analyses",children:(0,r.jsx)(d.z,{variant:"outline",size:"sm",children:"View All"})})]})}),(0,r.jsx)(c.aY,{children:y?(0,r.jsxs)("div",{className:"space-y-3",children:[u.slice(0,3).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium ".concat((0,h._v)(e.detected_stage)),children:e.detected_stage.replace("_","-")}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(0,h.p6)(e.created_at)})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-medium ".concat((0,h.ei)(e.confidence_score)),children:[e.confidence_score,"%"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"confidence"})]})]},e.id)),u.length>3&&(0,r.jsx)("div",{className:"text-center pt-2",children:(0,r.jsx)(i.default,{href:"/dashboard/analyses",className:"text-sm text-blue-600 hover:text-blue-800",children:"View all analyses →"})})]}):(0,r.jsxs)("div",{className:"text-center py-6",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"No analyses yet"}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Submit startup data to get AI-powered stage analysis"})]})})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsx)(c.ll,{children:"Quick Actions"}),(0,r.jsx)(c.SZ,{children:"Common tasks to help you track your startup's progress"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsx)(i.default,{href:"/dashboard/submit",children:(0,r.jsxs)(d.z,{variant:"outline",className:"w-full h-20 flex flex-col items-center justify-center",children:[(0,r.jsx)("svg",{className:"w-6 h-6 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Submit Data"]})}),(0,r.jsx)(i.default,{href:"/dashboard/analyses",children:(0,r.jsxs)(d.z,{variant:"outline",className:"w-full h-20 flex flex-col items-center justify-center",children:[(0,r.jsx)("svg",{className:"w-6 h-6 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analyses"]})}),(0,r.jsx)(i.default,{href:"/dashboard/profile",children:(0,r.jsxs)(d.z,{variant:"outline",className:"w-full h-20 flex flex-col items-center justify-center",children:[(0,r.jsx)("svg",{className:"w-6 h-6 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Edit Profile"]})}),(0,r.jsxs)(d.z,{variant:"outline",className:"w-full h-20 flex flex-col items-center justify-center",disabled:!0,children:[(0,r.jsx)("svg",{className:"w-6 h-6 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Data"]})]})})]})]})}function m(){let{user:e,userProfile:s,loading:t}=(0,l.useAuth)();return t?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e?(0,r.jsx)(n.Z,{children:(0,r.jsx)(u,{})}):(window.location.href="/auth/login",null)}},7929:function(e,s,t){"use strict";t.d(s,{X:function(){return c},bZ:function(){return d}});var r=t(3827),a=t(4090),l=t(9769),n=t(1657);let i=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 bg-green-50 dark:border-green-500 dark:text-green-400 dark:bg-green-950/30 [&>svg]:text-green-600 dark:[&>svg]:text-green-400",warning:"border-yellow-500/50 text-yellow-700 bg-yellow-50 dark:border-yellow-500 dark:text-yellow-400 dark:bg-yellow-950/30 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400",info:"border-blue-500/50 text-blue-700 bg-blue-50 dark:border-blue-500 dark:text-blue-400 dark:bg-blue-950/30 [&>svg]:text-blue-600 dark:[&>svg]:text-blue-400"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,s)=>{let{className:t,variant:a,...l}=e;return(0,r.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(i({variant:a}),t),...l})});d.displayName="Alert",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})}).displayName="AlertTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",t),...a})});c.displayName="AlertDescription"}},function(e){e.O(0,[612,869,792,714,246,971,69,744],function(){return e(e.s=6539)}),_N_E=e.O()}]);