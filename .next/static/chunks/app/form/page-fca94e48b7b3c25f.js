(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{1375:function(e,r,t){Promise.resolve().then(t.bind(t,107))},617:function(e,r,t){"use strict";t.r(r),t.d(r,{ClientAuthProvider:function(){return D},useAuth:function(){return m}});var l=t(3827),n=t(4090),a=t(7176),o=t(7907);console.log("\uD83D\uDD0D DEBUG: ClientAuthProvider file loaded at:",new Date().toISOString());let i="https://hfrzxhbwjatdnpftrdgr.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhmcnp4aGJ3amF0ZG5wZnRyZGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NTY3NzksImV4cCI6MjA2ODUzMjc3OX0.Fg7TK4FckPi5XAWNM_FLii9WyzSDAUCSdyoX-WLLXhA";s||(console.error("\uD83D\uDEA8 ERROR: NEXT_PUBLIC_SUPABASE_ANON_KEY not found in environment variables!"),console.error("\uD83D\uDD27 Please set NEXT_PUBLIC_SUPABASE_ANON_KEY in Vercel environment variables")),console.log("\uD83D\uDD0D DEBUG: Environment Variables Config:"),console.log("\uD83D\uDD0D DEBUG: - URL:",i),console.log("\uD83D\uDD0D DEBUG: - Key length:",s.length),console.log("\uD83D\uDD0D DEBUG: - Key starts with:",s.substring(0,20)),console.log("\uD83D\uDD0D DEBUG: - Using env vars:",!!s);let u=(0,a.eI)(i,s);console.log("\uD83D\uDD0D DEBUG: Supabase client created");let c=(0,n.createContext)(void 0),d=()=>{try{let e=localStorage.getItem("sb-hfrzxhbwjatdnpftrdgr-auth-token");return e?JSON.parse(e):null}catch(e){return null}};function D(e){let{children:r}=e,t=(0,o.useRouter)(),a=(0,o.usePathname)(),i=d();console.log("\uD83D\uDD0D DEBUG: Initial auth from storage:",!!i);let[s,D]=(0,n.useState)((null==i?void 0:i.user)||null),[m,g]=(0,n.useState)(null),[f,h]=(0,n.useState)(!i),p=async e=>{var r,t,l;console.log("\uD83D\uDD0D DEBUG: fetchUserProfile for",e);try{let{data:r,error:t}=await u.from("profiles").select("*").eq("id",e).maybeSingle();if(t)throw t;if(r)return r}catch(e){console.error("\uD83D\uDD0D DEBUG: Error fetching profile:",e)}return{id:e,email:(null==i?void 0:null===(r=i.user)||void 0===r?void 0:r.email)||"",full_name:(null==i?void 0:null===(l=i.user)||void 0===l?void 0:null===(t=l.user_metadata)||void 0===t?void 0:t.full_name)||"",avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}},b=async(e,r)=>{if(s)try{await u.from("user_activity_log").insert({user_id:s.id,activity_type:e,activity_data:r,ip_address:null,user_agent:navigator.userAgent})}catch(e){console.error("\uD83D\uDD0D DEBUG: Error logging activity:",e)}};(0,n.useEffect)(()=>{console.log("\uD83D\uDD0D DEBUG: AuthProvider mounted");let e=!0,r=setTimeout(()=>{e&&f&&(console.log("\uD83D\uDEA8 DEBUG: Loading timeout, forcing loading=false"),h(!1))},15e3);(async()=>{console.log("\uD83D\uDD0D DEBUG: getSession");try{let{data:{session:r},error:t}=await u.auth.getSession();if(t)throw t;if(null==r?void 0:r.user){D(r.user);let t=await p(r.user.id);if(!e)return;g(t)}else if(null==i?void 0:i.user){D(i.user);let r=await p(i.user.id);if(!e)return;g(r)}else localStorage.removeItem("sb-hfrzxhbwjatdnpftrdgr-auth-token"),D(null)}catch(e){console.error("\uD83D\uDD0D DEBUG: init error:",e)}finally{e&&h(!1),clearTimeout(r)}})();let{data:{subscription:l}}=u.auth.onAuthStateChange(async(l,n)=>{if(console.log("\uD83D\uDD0D DEBUG: onAuthStateChange",l),null==n?void 0:n.user){D(n.user);let r=await p(n.user.id);e&&g(r),"SIGNED_IN"===l&&"/dashboard"!==a&&t.push("/dashboard"),"SIGNED_IN"===l&&await b("login")}else D(null),g(null);e&&h(!1),clearTimeout(r)});return()=>{e=!1,l.unsubscribe(),clearTimeout(r)}},[t,a]);let x=async(e,r,t)=>{console.log("\uD83D\uDD0D DEBUG: signUp called for email:",e),h(!0);try{let{data:l,error:n}=await u.auth.signUp({email:e,password:r,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback"),data:{full_name:t||""}}});if(n)throw n;return console.log("\uD83D\uDD0D DEBUG: signUp successful:",l),{data:l,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Sign up error:",e),{data:null,error:e.message}}finally{h(!1)}},y=async(e,r)=>{console.log("\uD83D\uDD0D DEBUG: signIn called for email:",e),h(!0);try{let{data:t,error:l}=await u.auth.signInWithPassword({email:e,password:r});if(l)throw l;return console.log("\uD83D\uDD0D DEBUG: signIn successful:",t),{data:t,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Sign in error:",e),{data:null,error:e.message}}finally{h(!1)}},v=async()=>{console.log("\uD83D\uDD0D DEBUG: signOut called"),h(!0),s&&await b("logout");try{let{error:e}=await u.auth.signOut();if(e)throw e;console.log("\uD83D\uDD0D DEBUG: signOut successful")}catch(e){console.error("\uD83D\uDD0D DEBUG: signOut error:",e)}finally{D(null),g(null),h(!1)}},E=async e=>{if(console.log("\uD83D\uDD0D DEBUG: updateProfile called:",e),!s||!m)throw Error("No user logged in");h(!0);try{let{data:r,error:t}=await u.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",s.id).select().single();if(t)throw t;return g(r),await b("profile_update",e),console.log("\uD83D\uDD0D DEBUG: updateProfile successful:",r),{data:r,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Update profile error:",e),{data:null,error:e.message}}finally{h(!1)}},j=async()=>{if(console.log("\uD83D\uDD0D DEBUG: refreshProfile called"),s)try{let e=await p(s.id);g(e),console.log("\uD83D\uDD0D DEBUG: Profile refreshed")}catch(e){console.error("\uD83D\uDD0D DEBUG: Error refreshing profile:",e)}},N=!!(null==s?void 0:s.email_confirmed_at);return(0,l.jsx)(c.Provider,{value:{user:s,userProfile:m,loading:f,isEmailVerified:N,signUp:x,signIn:y,signOut:v,updateProfile:E,refreshProfile:j,logActivity:b},children:r})}function m(){let e=(0,n.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}r.default=D},107:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var l=t(3827),n=t(4090),a=t(7907),o=t(617);function i(){let{user:e}=(0,o.useAuth)(),r=(0,a.useRouter)(),t=function(){let[e,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>{r(new URLSearchParams(window.location.search))},[]),e}(),[i,s]=(0,n.useState)({companyName:"",email:"",description:"",stage:"",teamSize:"",funding:"",market:""}),[u,c]=(0,n.useState)(!1),[d,D]=(0,n.useState)(""),m=(null==t?void 0:t.get("type"))||"entrepreneur";(0,n.useEffect)(()=>{if(!e){r.push("/auth/login");return}},[e,r]);let g=e=>{let{name:r,value:t}=e.target;s(e=>({...e,[r]:t}))},f=async e=>{if(e.preventDefault(),!i.companyName||!i.email){D("L\xfctfen zorunlu alanları doldurun");return}c(!0),D("");try{await new Promise(e=>setTimeout(e,2e3)),D("Form başarıyla g\xf6nderildi! \uD83C\uDF89"),setTimeout(()=>{r.push("/results?type=".concat(m))},2e3)}catch(e){console.error("Submission error:",e),D("Bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{c(!1)}};return e?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,l.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDCDD Startup Bilgi Formu"}),(0,l.jsxs)("p",{className:"text-lg text-gray-600",children:["entrepreneur"===m?"Girişimci":"Yatırımcı"," olarak bilgilerinizi paylaşın"]})]}),(0,l.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Şirket/Proje Adı *"}),(0,l.jsx)("input",{type:"text",name:"companyName",value:i.companyName,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Startup adınızı girin",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-posta Adresi *"}),(0,l.jsx)("input",{type:"email",name:"email",value:i.email,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ornek@email.com",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mevcut Aşama"}),(0,l.jsxs)("select",{name:"stage",value:i.stage,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"",children:"Se\xe7iniz"}),(0,l.jsx)("option",{value:"idea",children:"Fikir Aşaması"}),(0,l.jsx)("option",{value:"mvp",children:"MVP Geliştirme"}),(0,l.jsx)("option",{value:"pre-seed",children:"Pre-Seed"}),(0,l.jsx)("option",{value:"seed",children:"Seed"}),(0,l.jsx)("option",{value:"series-a",children:"Series A"}),(0,l.jsx)("option",{value:"growth",children:"B\xfcy\xfcme"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ekip B\xfcy\xfckl\xfcğ\xfc"}),(0,l.jsx)("input",{type:"number",name:"teamSize",value:i.teamSize,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ka\xe7 kişi?",min:"1"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hedef Fonlama (€)"}),(0,l.jsx)("input",{type:"number",name:"funding",value:i.funding,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100000",min:"0"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hedef Pazar"}),(0,l.jsx)("input",{type:"text",name:"market",value:i.market,onChange:g,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"B2B SaaS, E-ticaret, vb."})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proje A\xe7ıklaması"}),(0,l.jsx)("textarea",{name:"description",value:i.description,onChange:g,rows:4,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Startup'ınız ne yapıyor? Hangi problemi \xe7\xf6z\xfcyor?"})]}),d&&(0,l.jsx)("div",{className:"p-3 rounded-md text-sm ".concat(d.includes("başarıyla")?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:d}),(0,l.jsxs)("div",{className:"flex justify-center space-x-4 pt-6",children:[(0,l.jsx)("button",{type:"submit",disabled:u,className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"\uD83D\uDCE4 G\xf6nderiliyor...":"\uD83D\uDE80 Formu G\xf6nder"}),(0,l.jsx)("button",{type:"button",onClick:()=>{s({companyName:"",email:"",description:"",stage:"",teamSize:"",funding:"",market:""}),D("")},className:"bg-gray-300 text-gray-700 px-8 py-3 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"\uD83D\uDD04 Temizle"})]})]}),(0,l.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:(0,l.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,l.jsx)("button",{onClick:()=>r.push("/"),className:"text-blue-600 hover:text-blue-800 font-medium",children:"\uD83C\uDFE0 Ana Sayfa"}),(0,l.jsx)("button",{onClick:()=>r.push("/stage-detection"),className:"text-blue-600 hover:text-blue-800 font-medium",children:"\uD83D\uDE80 Stage Analizi"})]})})]})})}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,l.jsx)("p",{className:"text-gray-600",children:"Giriş kontrol ediliyor..."})]})})}}},function(e){e.O(0,[612,971,69,744],function(){return e(e.s=1375)}),_N_E=e.O()}]);