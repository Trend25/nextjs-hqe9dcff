(()=>{var e={};e.id=27,e.ids=[27],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},715:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>u,tree:()=>c});var r=t(482),a=t(9108),i=t(2563),l=t.n(i),n=t(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["dashboard",{children:["analyses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1653)),"/workspaces/nextjs-hqe9dcff/app/dashboard/analyses/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,8828)),"/workspaces/nextjs-hqe9dcff/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["/workspaces/nextjs-hqe9dcff/app/dashboard/analyses/page.tsx"],o="/dashboard/analyses/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/analyses/page",pathname:"/dashboard/analyses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2565:(e,s,t)=>{Promise.resolve().then(t.bind(t,4589))},4589:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(5344),a=t(3729),i=t(6506),l=t(8428),n=t(6212),d=t(1351),c=t(5062),x=t(380),o=t(7435),m=t(7733),u=t(1626);function h({analysis:e,submission:s,showActions:t=!0}){var a;return(0,r.jsxs)(d.Zb,{className:"hover:shadow-lg transition-shadow duration-200",children:[r.jsx(d.Ol,{children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[r.jsx("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("span",{className:"text-2xl",children:(e=>{switch(e){case"PRE_SEED":return"\uD83C\uDF31";case"SEED":return"\uD83C\uDF3F";case"SERIES_A":return"\uD83C\uDF33";case"GROWTH":return"\uD83D\uDE80";default:return"\uD83D\uDCCA"}})(e.detected_stage)}),(0,r.jsxs)("div",{children:[r.jsx(d.ll,{className:"text-lg",children:s?.company_name||"Startup Analysis"}),(0,r.jsxs)(d.SZ,{children:["Analyzed on ",(0,u.p6)(e.created_at)]})]})]})}),t&&r.jsx("div",{className:"flex space-x-2",children:r.jsx(i.default,{href:`/dashboard/analyses/${e.id}`,children:r.jsx(n.z,{variant:"outline",size:"sm",children:"View Details"})})})]})}),r.jsx(d.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${(0,u._v)(e.detected_stage)}`,children:{PRE_SEED:"Pre-Seed",SEED:"Seed",SERIES_A:"Series A",GROWTH:"Growth"}[e.detected_stage]||e.detected_stage}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("span",{children:(a=e.confidence_score)>=80?"\uD83C\uDFAF":a>=60?"✅":"⚠️"}),(0,r.jsxs)("span",{className:`text-sm font-medium ${(0,u.ei)(e.confidence_score)}`,children:[e.confidence_score,"% confidence"]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[e.stage_score,"/100"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Stage Score"})]})]}),s&&(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Industry"}),r.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:s.industry||"N/A"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Team Size"}),(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[s.team_size||0," people"]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Monthly Revenue"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:(0,u.xG)(s.monthly_revenue)})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs text-gray-500",children:"Total Funding"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:(0,u.xG)(s.total_funding)})]})]}),e.reasons&&e.reasons.length>0&&(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Key Analysis Points"}),(0,r.jsxs)("div",{className:"space-y-1",children:[e.reasons.slice(0,2).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),r.jsx("span",{className:"text-sm text-gray-700",children:e})]},s)),e.reasons.length>2&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["+",e.reasons.length-2," more insights"]})]})]}),e.next_milestones&&e.next_milestones.length>0&&(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Next Milestones"}),(0,r.jsxs)("div",{className:"space-y-1",children:[e.next_milestones.slice(0,2).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[r.jsx("span",{className:"text-green-500 mt-1",children:"→"}),r.jsx("span",{className:"text-sm text-gray-700",children:e})]},s)),e.next_milestones.length>2&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["+",e.next_milestones.length-2," more milestones"]})]})]}),(e.pre_seed_score||e.seed_score||e.series_a_score||e.growth_score)&&(0,r.jsxs)("div",{className:"pt-4 border-t border-gray-100",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-3",children:"Stage Probability Breakdown"}),r.jsx("div",{className:"space-y-2",children:[{stage:"PRE_SEED",score:e.pre_seed_score,label:"Pre-Seed"},{stage:"SEED",score:e.seed_score,label:"Seed"},{stage:"SERIES_A",score:e.series_a_score,label:"Series A"},{stage:"GROWTH",score:e.growth_score,label:"Growth"}].filter(e=>void 0!==e.score&&e.score>0).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs text-gray-600",children:e.label}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${e.score}%`}})}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 w-8",children:[e.score,"%"]})]})]},e.stage))})]})]})})]})}function g(){return r.jsx(m.Z,{children:r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsx("div",{className:"h-48 bg-gray-200 rounded"},e))})]})})})}function p(){let[e,s]=(0,a.useState)([]),[t,u]=(0,a.useState)(!0),[g,p]=(0,a.useState)(""),{user:j}=(0,x.useAuth)(),v=(0,l.useSearchParams)().get("new_submission"),y=(0,o.createClientComponentClient)();(0,a.useEffect)(()=>{j&&b()},[j]);let b=async()=>{try{u(!0);let{data:e,error:t}=await y.from("stage_analysis_results").select(`
          *,
          startup_submissions:submission_id (
            id,
            company_name,
            industry,
            monthly_revenue,
            total_funding,
            team_size
          )
        `).eq("user_id",j?.id).order("created_at",{ascending:!1});if(t)throw t;let r=(e||[]).map(e=>({...e,submission:e.startup_submissions}));s(r)}catch(e){console.error("Error fetching analyses:",e),p("Failed to load analyses")}finally{u(!1)}};return j?t?r.jsx(m.Z,{children:r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"animate-pulse",children:[r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),r.jsx("div",{className:"space-y-4",children:[1,2,3].map(e=>r.jsx("div",{className:"h-48 bg-gray-200 rounded"},e))})]})})}):r.jsx(m.Z,{children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Stage Analyses"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Review your startup's stage progression and AI-powered insights"})]}),r.jsx("div",{className:"mt-4 sm:mt-0",children:r.jsx(i.default,{href:"/dashboard/submit",children:r.jsx(n.z,{children:"Submit New Data"})})})]}),v&&r.jsx(c.bZ,{className:"border-green-200 bg-green-50",children:(0,r.jsxs)(c.X,{className:"text-green-700",children:["\uD83C\uDF89 Your startup data has been submitted successfully!",0===e.length&&" Your AI analysis will appear here once processing is complete."]})}),g&&r.jsx(c.bZ,{variant:"destructive",children:r.jsx(c.X,{children:g})}),0===e.length&&!t&&(0,r.jsxs)(d.Zb,{className:"border-2 border-dashed border-gray-200",children:[(0,r.jsxs)(d.Ol,{className:"text-center",children:[r.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),r.jsx(d.ll,{children:"No Stage Analyses Yet"}),r.jsx(d.SZ,{children:"Submit your startup data to get AI-powered stage analysis and personalized insights."})]}),(0,r.jsxs)(d.aY,{className:"text-center",children:[r.jsx(i.default,{href:"/dashboard/submit",children:r.jsx(n.z,{size:"lg",children:"Submit Your First Data →"})}),r.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Our AI will analyze your metrics and determine if you're Pre-Seed, Seed, Series A, or Growth stage."})]})]}),e.length>0&&(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid gap-6",children:e.map(e=>r.jsx(h,{analysis:e,submission:e.submission},e.id))}),e.length>=10&&r.jsx("div",{className:"text-center",children:r.jsx(n.z,{variant:"outline",children:"Load More Analyses"})})]}),e.length>0&&(0,r.jsxs)(d.Zb,{children:[r.jsx(d.Ol,{children:r.jsx(d.ll,{children:"Analysis Summary"})}),r.jsx(d.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:e.length}),r.jsx("div",{className:"text-xs text-gray-500",children:"Total Analyses"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e[0]?.detected_stage.replace("_","-")||"—"}),r.jsx("div",{className:"text-xs text-gray-500",children:"Current Stage"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[e[0]?.confidence_score||0,"%"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Latest Confidence"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(e.reduce((e,s)=>e+(s.confidence_score||0),0)/e.length)||0,"%"]}),r.jsx("div",{className:"text-xs text-gray-500",children:"Avg Confidence"})]})]})})]})]})}):null}function j(){return r.jsx(a.Suspense,{fallback:r.jsx(g,{}),children:r.jsx(p,{})})}},5062:(e,s,t)=>{"use strict";t.d(s,{X:()=>c,bZ:()=>d});var r=t(5344),a=t(3729),i=t(9247),l=t(1626);let n=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 bg-green-50 dark:border-green-500 dark:text-green-400 dark:bg-green-950/30 [&>svg]:text-green-600 dark:[&>svg]:text-green-400",warning:"border-yellow-500/50 text-yellow-700 bg-yellow-50 dark:border-yellow-500 dark:text-yellow-400 dark:bg-yellow-950/30 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400",info:"border-blue-500/50 text-blue-700 bg-blue-50 dark:border-blue-500 dark:text-blue-400 dark:bg-blue-950/30 [&>svg]:text-blue-600 dark:[&>svg]:text-blue-400"}},defaultVariants:{variant:"default"}}),d=a.forwardRef(({className:e,variant:s,...t},a)=>r.jsx("div",{ref:a,role:"alert",className:(0,l.cn)(n({variant:s}),e),...t}));d.displayName="Alert",a.forwardRef(({className:e,...s},t)=>r.jsx("h5",{ref:t,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...s}));c.displayName="AlertDescription"},1653:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,t(6843).createProxy)(String.raw`/workspaces/nextjs-hqe9dcff/app/dashboard/analyses/page.tsx`),{__esModule:a,$$typeof:i}=r,l=r.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,307,337,35,506,435,162],()=>t(715));module.exports=r})();