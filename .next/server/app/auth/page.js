(()=>{var e={};e.id=235,e.ids=[235],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},8359:()=>{},3739:()=>{},9567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>D,pages:()=>c,routeModule:()=>p,tree:()=>u});var s=r(482),o=r(9108),i=r(2563),n=r.n(i),a=r(8300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let u=["",{children:["auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4201)),"/workspaces/nextjs-hqe9dcff/app/auth/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8828)),"/workspaces/nextjs-hqe9dcff/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/workspaces/nextjs-hqe9dcff/app/auth/page.tsx"],D="/auth/page",d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/auth/page",pathname:"/auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},9400:(e,t,r)=>{Promise.resolve().then(r.bind(r,380))},4476:(e,t,r)=>{Promise.resolve().then(r.bind(r,120))},5472:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},380:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ClientAuthProvider:()=>d,default:()=>h,useAuth:()=>p});var s=r(5344),o=r(3729),i=r(6300),n=r(8428);console.log("\uD83D\uDD0D DEBUG: ClientAuthProvider file loaded at:",new Date().toISOString());let a="https://hfrzxhbwjatdnpftrdgr.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhmcnp4aGJ3amF0ZG5wZnRyZGdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI5NTY3NzksImV4cCI6MjA2ODUzMjc3OX0.Fg7TK4FckPi5XAWNM_FLii9WyzSDAUCSdyoX-WLLXhA";l||(console.error("\uD83D\uDEA8 ERROR: NEXT_PUBLIC_SUPABASE_ANON_KEY not found in environment variables!"),console.error("\uD83D\uDD27 Please set NEXT_PUBLIC_SUPABASE_ANON_KEY in Vercel environment variables")),console.log("\uD83D\uDD0D DEBUG: Environment Variables Config:"),console.log("\uD83D\uDD0D DEBUG: - URL:",a),console.log("\uD83D\uDD0D DEBUG: - Key length:",l.length),console.log("\uD83D\uDD0D DEBUG: - Key starts with:",l.substring(0,20)),console.log("\uD83D\uDD0D DEBUG: - Using env vars:",!!l);let u=(0,i.eI)(a,l);console.log("\uD83D\uDD0D DEBUG: Supabase client created");let c=(0,o.createContext)(void 0),D=()=>null;function d({children:e}){let t=(0,n.useRouter)(),r=(0,n.usePathname)(),i=D();console.log("\uD83D\uDD0D DEBUG: Initial auth from storage:",!!i);let[a,l]=(0,o.useState)(i?.user||null),[d,p]=(0,o.useState)(null),[h,f]=(0,o.useState)(!i),g=async e=>{console.log("\uD83D\uDD0D DEBUG: fetchUserProfile for",e);try{let{data:t,error:r}=await u.from("profiles").select("*").eq("id",e).maybeSingle();if(r)throw r;if(t)return t}catch(e){console.error("\uD83D\uDD0D DEBUG: Error fetching profile:",e)}return{id:e,email:i?.user?.email||"",full_name:i?.user?.user_metadata?.full_name||"",avatar_url:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}},m=async(e,t)=>{if(a)try{await u.from("user_activity_log").insert({user_id:a.id,activity_type:e,activity_data:t,ip_address:null,user_agent:null})}catch(e){console.error("\uD83D\uDD0D DEBUG: Error logging activity:",e)}};(0,o.useEffect)(()=>{console.log("\uD83D\uDD0D DEBUG: AuthProvider mounted");let e=!0,s=setTimeout(()=>{e&&h&&(console.log("\uD83D\uDEA8 DEBUG: Loading timeout, forcing loading=false"),f(!1))},15e3);(async()=>{console.log("\uD83D\uDD0D DEBUG: getSession");try{let{data:{session:t},error:r}=await u.auth.getSession();if(r)throw r;if(t?.user){l(t.user);let r=await g(t.user.id);if(!e)return;p(r)}else if(i?.user){l(i.user);let t=await g(i.user.id);if(!e)return;p(t)}else localStorage.removeItem("sb-hfrzxhbwjatdnpftrdgr-auth-token"),l(null)}catch(e){console.error("\uD83D\uDD0D DEBUG: init error:",e)}finally{e&&f(!1),clearTimeout(s)}})();let{data:{subscription:o}}=u.auth.onAuthStateChange(async(o,i)=>{if(console.log("\uD83D\uDD0D DEBUG: onAuthStateChange",o),i?.user){l(i.user);let s=await g(i.user.id);e&&p(s),"SIGNED_IN"===o&&"/dashboard"!==r&&t.push("/dashboard"),"SIGNED_IN"===o&&await m("login")}else l(null),p(null);e&&f(!1),clearTimeout(s)});return()=>{e=!1,o.unsubscribe(),clearTimeout(s)}},[t,r]);let x=async(e,t,r)=>{console.log("\uD83D\uDD0D DEBUG: signUp called for email:",e),f(!0);try{let{data:s,error:o}=await u.auth.signUp({email:e,password:t,options:{emailRedirectTo:void 0,data:{full_name:r||""}}});if(o)throw o;return console.log("\uD83D\uDD0D DEBUG: signUp successful:",s),{data:s,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Sign up error:",e),{data:null,error:e.message}}finally{f(!1)}},y=async(e,t)=>{console.log("\uD83D\uDD0D DEBUG: signIn called for email:",e),f(!0);try{let{data:r,error:s}=await u.auth.signInWithPassword({email:e,password:t});if(s)throw s;return console.log("\uD83D\uDD0D DEBUG: signIn successful:",r),{data:r,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Sign in error:",e),{data:null,error:e.message}}finally{f(!1)}},v=async()=>{console.log("\uD83D\uDD0D DEBUG: signOut called"),f(!0),a&&await m("logout");try{let{error:e}=await u.auth.signOut();if(e)throw e;console.log("\uD83D\uDD0D DEBUG: signOut successful")}catch(e){console.error("\uD83D\uDD0D DEBUG: signOut error:",e)}finally{l(null),p(null),f(!1)}},E=async e=>{if(console.log("\uD83D\uDD0D DEBUG: updateProfile called:",e),!a||!d)throw Error("No user logged in");f(!0);try{let{data:t,error:r}=await u.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("id",a.id).select().single();if(r)throw r;return p(t),await m("profile_update",e),console.log("\uD83D\uDD0D DEBUG: updateProfile successful:",t),{data:t,error:null}}catch(e){return console.error("\uD83D\uDD0D DEBUG: Update profile error:",e),{data:null,error:e.message}}finally{f(!1)}},w=async()=>{if(console.log("\uD83D\uDD0D DEBUG: refreshProfile called"),a)try{let e=await g(a.id);p(e),console.log("\uD83D\uDD0D DEBUG: Profile refreshed")}catch(e){console.error("\uD83D\uDD0D DEBUG: Error refreshing profile:",e)}},P=!!a?.email_confirmed_at;return s.jsx(c.Provider,{value:{user:a,userProfile:d,loading:h,isEmailVerified:P,signUp:x,signIn:y,signOut:v,updateProfile:E,refreshProfile:w,logActivity:m},children:e})}function p(){let e=(0,o.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}let h=d},120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(5344),o=r(3729),i=r(8428);function n(){let e=(0,i.useRouter)();return(0,o.useEffect)(()=>{e.push("/auth/login")},[e]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Y\xf6nlendiriliyor..."})]})})}},4201:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>n});let s=(0,r(6843).createProxy)(String.raw`/workspaces/nextjs-hqe9dcff/app/auth/page.tsx`),{__esModule:o,$$typeof:i}=s,n=s.default},8828:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>D});var s=r(5036),o=r(8592),i=r.n(o);r(7272);var n=r(6843);let a=(0,n.createProxy)(String.raw`/workspaces/nextjs-hqe9dcff/app/ClientAuthProvider.tsx`),{__esModule:l,$$typeof:u}=a,c=a.default;(0,n.createProxy)(String.raw`/workspaces/nextjs-hqe9dcff/app/ClientAuthProvider.tsx#ClientAuthProvider`),(0,n.createProxy)(String.raw`/workspaces/nextjs-hqe9dcff/app/ClientAuthProvider.tsx#useAuth`);let D={title:"Rating Sistemi",description:"GiriÅŸimci ve yatÄ±rÄ±mcÄ± deÄŸerlendirme platformu"};function d({children:e}){return s.jsx("html",{lang:"tr",children:(0,s.jsxs)("body",{className:i().className,children:[s.jsx("script",{dangerouslySetInnerHTML:{__html:`console.log("ðŸŒ± RootLayout y\xfcklendi");`}}),s.jsx(c,{children:e})]})})}},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(337);let o=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,307,337],()=>r(9567));module.exports=s})();